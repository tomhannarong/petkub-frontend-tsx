{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/Legion/Desktop/petkub-project/petkub-frontend-tsx/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Legion/Desktop/petkub-project/petkub-frontend-tsx/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/Legion/Desktop/petkub-project/petkub-frontend-tsx/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useForm } from 'react-hook-form';\nimport { useMutation } from '@apollo/client';\nimport Modal from './modal/Modal';\nimport { AuthContext } from '../context/AuthContextProvider';\nimport { SIGN_UP } from '../apollo/mutations';\nexport var FormContainer = styled.div.withConfig({\n  displayName: \"SignUp__FormContainer\",\n  componentId: \"zkzfi9-0\"\n})([\"width:95%;display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin:2.5rem 0;\"]);\nexport var Header = styled.div.withConfig({\n  displayName: \"SignUp__Header\",\n  componentId: \"zkzfi9-1\"\n})([\"width:100%;display:flex;justify-content:center;align-items:center;padding:0;margin:0;h2{margin:0;}\"]);\nexport var StyledForm = styled.form.withConfig({\n  displayName: \"SignUp__StyledForm\",\n  componentId: \"zkzfi9-2\"\n})([\"width:100%;display:flex;flex-direction:column;justify-content:stretch;align-items:center;.email_section_label{margin:0;padding:0;color:\", \";}\"], function (props) {\n  return props.theme.colors.teal;\n});\nexport var InputContainer = styled.div.withConfig({\n  displayName: \"SignUp__InputContainer\",\n  componentId: \"zkzfi9-3\"\n})([\"width:100%;margin:0.5rem;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;\"]);\nexport var Input = styled.input.withConfig({\n  displayName: \"SignUp__Input\",\n  componentId: \"zkzfi9-4\"\n})([\"width:100%;height:4rem;border:0.5px solid \", \";border-radius:\", \";margin:0.2rem 0;padding:1rem;font-size:1.4rem;outline:none;box-shadow:2px 2px 4px \", \";\"], function (props) {\n  return props.theme.colors.teal;\n}, function (props) {\n  return props.theme.radius;\n}, function (props) {\n  return props.theme.colors.lightGrey;\n});\nexport var Button = styled.button.withConfig({\n  displayName: \"SignUp__Button\",\n  componentId: \"zkzfi9-5\"\n})([\"width:100%;height:4rem;background:\", \";color:white;font-size:1.8rem;margin-top:2rem;&:hover{background:\", \";}\"], function (props) {\n  return props.theme.backgroundColors.main;\n}, function (props) {\n  return props.theme.colors.darkTeal;\n});\nexport var StyledError = styled.p.withConfig({\n  displayName: \"SignUp__StyledError\",\n  componentId: \"zkzfi9-6\"\n})([\"margin:0;padding:0;color:red;font-size:1.3rem;\"]);\nexport var StyledSwitchAction = styled.div.withConfig({\n  displayName: \"SignUp__StyledSwitchAction\",\n  componentId: \"zkzfi9-7\"\n})([\"margin:0;padding:0;width:100%;p{font-size:1.2rem;color:black;padding:0;margin:0;margin-top:1rem;}\"]);\nexport var StyledInform = styled.div.withConfig({\n  displayName: \"SignUp__StyledInform\",\n  componentId: \"zkzfi9-8\"\n})([\"margin:0;padding:0.2rem;width:100%;p{font-size:1.4rem;color:\", \";padding:0;}\"], function (props) {\n  return props.theme.colors.teal;\n});\nexport var StyledSocial = styled.div.withConfig({\n  displayName: \"SignUp__StyledSocial\",\n  componentId: \"zkzfi9-9\"\n})([\"margin:1rem auto;padding:0.2rem;width:100%;button{width:100%;margin:1rem auto;padding:4%;display:flex;justify-content:space-around;align-items:center;color:white;a{color:white;text-decoration:none;}}.facebook{background:\", \";&:hover{background:\", \";}}.google{background:\", \";&:hover{background:\", \";}}\"], function (props) {\n  return props.theme.colors.fbBlue;\n}, function (props) {\n  return props.theme.colors.fbDarkBlue;\n}, function (props) {\n  return props.theme.colors.googleRed;\n}, function (props) {\n  return props.theme.colors.googleDarkRed;\n});\nexport var Divider = styled.hr.withConfig({\n  displayName: \"SignUp__Divider\",\n  componentId: \"zkzfi9-10\"\n})([\"background-color:\", \";height:1px;width:100%;\"], function (props) {\n  return props.theme.colors.lightGrey;\n});\n\nvar SignUp = function SignUp() {\n  var _useContext = useContext(AuthContext),\n      handleAuthAction = _useContext.handleAuthAction;\n\n  var _useForm = useForm(),\n      handleSubmit = _useForm.handleSubmit;\n\n  var _useMutation = useMutation(SIGN_UP),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      signup = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error;\n\n  var submitSignup = handleSubmit( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n      var username, email, password, _response$data, response, _response$data2;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              username = _ref.username, email = _ref.email, password = _ref.password;\n              _context.prev = 1;\n              _context.next = 4;\n              return signup({\n                variables: {\n                  username: username,\n                  email: email,\n                  password: password\n                }\n              });\n\n            case 4:\n              response = _context.sent;\n\n              if (response !== null && response !== void 0 && (_response$data = response.data) !== null && _response$data !== void 0 && _response$data.signup) {\n                console.log(response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.signup);\n              }\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  console.log('Loading: ', loading);\n  console.log('Error: ', error);\n  return /*#__PURE__*/_jsx(Modal, {\n    children: /*#__PURE__*/_jsxs(FormContainer, {\n      children: [/*#__PURE__*/_jsx(Header, {\n        children: /*#__PURE__*/_jsx(\"h2\", {\n          children: \"Sign Up\"\n        })\n      }), /*#__PURE__*/_jsxs(StyledSocial, {\n        children: [/*#__PURE__*/_jsxs(\"button\", {\n          className: \"facebook\",\n          children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n            icon: ['fab', 'facebook-f'],\n            size: \"lg\"\n          }), /*#__PURE__*/_jsx(\"a\", {\n            children: \"Sign in with Facebook\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"button\", {\n          className: \"google\",\n          children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n            icon: ['fab', 'google']\n          }), /*#__PURE__*/_jsx(\"a\", {\n            children: \"Sign in with Google\"\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(Divider, {}), /*#__PURE__*/_jsxs(StyledForm, {\n        onSubmit: submitSignup,\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: \"email_section_label\",\n          children: \"or sign up with an email\"\n        }), /*#__PURE__*/_jsxs(InputContainer, {\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            children: \"Username\"\n          }), /*#__PURE__*/_jsx(Input, {\n            type: \"text\",\n            name: \"username\",\n            id: \"username\",\n            placeholder: \"Your username\",\n            autoComplete: \"new-password\"\n          })]\n        }), /*#__PURE__*/_jsxs(InputContainer, {\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            children: \"Email\"\n          }), /*#__PURE__*/_jsx(Input, {\n            type: \"text\",\n            name: \"email\",\n            id: \"email\",\n            placeholder: \"Your email\",\n            autoComplete: \"new-password\"\n          })]\n        }), /*#__PURE__*/_jsxs(InputContainer, {\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            children: \"Password\"\n          }), /*#__PURE__*/_jsx(Input, {\n            type: \"password\",\n            name: \"password\",\n            id: \"password\",\n            placeholder: \"Your password\"\n          })]\n        }), /*#__PURE__*/_jsx(Button, {\n          children: \"Submit\"\n        })]\n      }), /*#__PURE__*/_jsx(StyledSwitchAction, {\n        children: /*#__PURE__*/_jsxs(\"p\", {\n          children: [\"Already have account?\", ' ', /*#__PURE__*/_jsx(\"span\", {\n            style: {\n              cursor: 'pointer',\n              color: 'red'\n            },\n            onClick: function onClick() {\n              return handleAuthAction('signin');\n            },\n            children: \"sign in\"\n          }), ' ', \"instead.\"]\n        })\n      })]\n    })\n  });\n};\n\nexport default SignUp;","map":null,"metadata":{},"sourceType":"module"}